<admin-header></admin-header>
<div class="container">
    <div>
    <span class="text-center "><h3>Manage Food Items </h3></span>
    <button (click) = "addFoodItem()" style="margin: 20px 0" class = "btn btn-primary"> Add FoodItem</button>
    </div>
    <input type="text" class="float-right form-control"  [(ngModel)]="searchKey"
        (ngModelChange)="searchFoodItem()" placeholder="Search by Name..">
    <table class="table table-striped" border="1" width="100%" >
        <thead class="table-dark">
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Category</th>
                <th>Price</th>
                <th>Available</th>
                <th>Image</th>
                <th>Discount</th>
                <th>Popular</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        
        <tbody id="myTable">
            <tr *ngFor="let foodItem of itemList">
                
                <td>{{foodItem.itemCode}}</td>
                <td>{{foodItem.itemName}}</td>
                <td>{{foodItem.category.categoryName}}</td>
                <td>{{foodItem.price}}</td>
                <td
                    [ngStyle]="{
                      color: foodItem.itemAvailTag
                        ? 'hsl(141, 53%, 53%)'
                        : 'hsl(348, 100%, 61%)'
                    }"
                  >
                    <b>{{ foodItem.itemAvailTag | yesNo }}</b>
                </td>
               
                <td>
               
                <img height="100px" width="100px" src='/assets/FoodImages/{{foodItem.image}}'
                alt="">
                </td>
               
                <td>{{foodItem.discount }}</td>
                <td
                [ngStyle]="{
                  color: foodItem.popularTag
                    ? 'hsl(141, 53%, 53%)'
                    : 'hsl(348, 100%, 61%)'
                }"
              >
                <b>{{ foodItem.popularTag | yesNo }}</b>
            </td>

            
                <!-- <td><a href="${editLink}">Edit</a></td>  
				<td><a href="${deleteLink}" onclick="if (!('are you sure you want to delete this Category?'))) return false">Delete</a></td> -->
                <td><button (click) = "updateFoodItem(foodItem.itemCode)" class = "btn btn-info"> Edit</button></td>
                <td><button class = "btn btn-danger" style="margin-left: 10px" data-bs-toggle="modal" data-bs-target="#submitModal"> Delete</button></td>

                    <!-- Modal -->
    <div class="modal " id="submitModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #ffc107;">
                    <h5 class="modal-title" id="exampleModalLabel">Confirm Deletion</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <P>
                        Deletion would be final !! </P>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" (click)="deleteFoodItem(foodItem.itemCode)"
                        data-bs-dismiss="modal">Yes
                        Delete</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
    
                </div>
            </div>
        </div>
    </div>
            </tr>
        </tbody>
    </table>

    
</div>
